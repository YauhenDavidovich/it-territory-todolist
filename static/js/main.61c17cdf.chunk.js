(this["webpackJsonpit-territory-todo"]=this["webpackJsonpit-territory-todo"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var i,a,r=n(0),c=n.n(r),o=n(13),s=n.n(o),l=(n(45),n(46),n(3)),d=n(39),j=n(8),u=n(5),b=n(37),O=n.n(b).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"7182e7e1-cf7b-49da-8e89-52ae747000d8"}}),h=function(){return O.get("todo-lists")},f=function(e){return O.post("todo-lists",{title:e})};!function(e){e[e.New=0]="New",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed",e[e.Draft=3]="Draft"}(i||(i={})),function(e){e[e.Low=0]="Low",e[e.Middle=1]="Middle",e[e.Hi=2]="Hi",e[e.Urgently=3]="Urgently",e[e.Later=4]="Later"}(a||(a={}));var p=function(e){return O.post("auth/login",e)},m={isLoggedIn:!1},g=n(2),x=function(){var e=Object(j.c)(),t=Object(j.d)((function(e){return e.auth.isLoggedIn})),n=Object(d.a)({initialValues:{email:"",password:"",rememberMe:!0},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="required fill",e.password||(t.password="password must have"),t},onSubmit:function(t){var n;e((n=t,function(e){p(n).then((function(t){0===t.data.resultCode&&e({type:"login/SET-IS-LOGGED-IN",value:!0})})).catch((function(e){console.log(e)}))}))}});return t?Object(g.jsx)(l.a,{to:"/todolist"}):Object(g.jsx)("div",{className:"main",children:Object(g.jsx)("div",{className:"mainBlock",children:Object(g.jsxs)("form",{onSubmit:n.handleSubmit,children:[Object(g.jsxs)("p",{children:["To log in get registered",Object(g.jsx)("a",{href:"https://social-network.samuraijs.com/",target:"_blank",children:"here"})]}),Object(g.jsx)("p",{children:"or use common test account credentials:"}),Object(g.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(g.jsx)("p",{children:"Password: free"}),Object(g.jsx)("label",{htmlFor:"email",children:"Email"}),Object(g.jsx)("input",{id:"email",name:"email",onChange:n.handleChange,value:n.values.email,placeholder:"Email"}),Object(g.jsx)("label",{htmlFor:"password",children:"Password"}),Object(g.jsx)("input",{id:"password",name:"password",type:"password",value:n.values.password,onChange:n.handleChange,placeholder:"Password"}),Object(g.jsx)("button",{type:"submit",children:"Submit"})]})})})},v=n(11),w=n(40),I=[],S=n(21),L=function(){var e=Object(j.c)(),t=Object(j.d)((function(e){return e.todolists}));Object(r.useEffect)((function(){e((function(e){h().then((function(t){e({type:"SET-TODOLISTS",todolists:t.data})}))}))}),[t]);var n=Object(r.useState)(t),i=Object(v.a)(n,2),a=i[0],c=i[1];if(!Object(j.d)((function(e){return e.auth.isLoggedIn})))return Object(g.jsx)(l.a,{to:"/login"});return Object(g.jsx)("div",{children:t&&t?Object(g.jsx)(S.a,{onDragEnd:function(e){if(e.destination){var t=Array.from(a),n=t.splice(e.source.index,1),i=Object(v.a)(n,1)[0];t.splice(e.destination.index,0,i),c(t)}},children:Object(g.jsx)(S.c,{droppableId:"todos",children:function(e){return Object(g.jsxs)("ul",Object(u.a)(Object(u.a)({className:"todos"},e.droppableProps),{},{ref:e.innerRef,children:[a.map((function(e,t){var n=e.id,i=e.title,a=e.addedDate;return Object(g.jsx)(S.b,{draggableId:n,index:t,children:function(e){return Object(g.jsxs)("li",Object(u.a)(Object(u.a)(Object(u.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(g.jsx)("div",{className:"date",children:a}),Object(g.jsx)("p",{children:i})]}))}},n)})),e.placeholder]}))}})}):Object(g.jsx)("button",{onClick:function(){var t;e((t="new todo2",function(e){f(t).then((function(t){e({type:"ADD-TODOLIST",todolist:t.data.data.item})}))}))},children:"Add todo"})})};var T=function(){return Object(g.jsxs)(l.d,{children:[Object(g.jsx)(l.b,{path:"/login",element:Object(g.jsx)(x,{})}),Object(g.jsx)(l.b,{path:"/todolist",element:Object(g.jsx)(L,{})}),Object(g.jsx)(l.b,{path:"*",element:Object(g.jsx)(l.a,{to:"/login"})})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),a(e),r(e),c(e)}))},E=n(15),y=n(9),C=n(38),P=Object(y.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login/SET-IS-LOGGED-IN":return Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:t.value});default:return e}},todolists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REMOVE-TODOLIST":return e.filter((function(e){return e.id!=t.id}));case"ADD-TODOLIST":return[Object(u.a)(Object(u.a)({},t.todolist),{},{filter:"all"})].concat(Object(w.a)(e));case"SET-TODOLISTS":return t.todolists.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{filter:"all",entityStatus:"idle"})}));default:return e}}}),A=Object(y.e)(P,Object(y.a)(C.a));window.store=A,s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(E.a,{children:Object(g.jsx)(j.a,{store:A,children:Object(g.jsx)(T,{})})})}),document.getElementById("root")),D()}},[[75,1,2]]]);
//# sourceMappingURL=main.61c17cdf.chunk.js.map